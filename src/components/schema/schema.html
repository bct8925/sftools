<header class="standalone-header">
    <div class="nav-brand"><img src="../../icon.png" alt="" />sftools</div>
    <span class="tool-name">Schema Browser</span>
</header>

<main class="content-area">
    <div class="card schema-card">
        <div class="card-header">
            <div class="card-header-icon" style="background-color: #0070d2">S</div>
            <h2>Schema Browser</h2>
        </div>
        <div class="card-body schema-card-body">
            <div class="schema-container">
                <div class="objects-panel">
                    <div class="objects-header">
                        <input
                            type="text"
                            id="objectFilter"
                            class="input filter-input"
                            placeholder="Filter objects..."
                        />
                        <div class="objects-header-row">
                            <div id="objectCount" class="object-count"></div>
                            <button-icon
                                id="refreshObjectsBtn"
                                data-icon="refresh"
                                title="Refresh objects"
                            ></button-icon>
                        </div>
                    </div>
                    <div id="objectsList" class="objects-list">
                        <div class="loading-container">Loading objects...</div>
                    </div>
                </div>
                <div class="fields-panel" id="fieldsPanel" style="display: none">
                    <div class="fields-header">
                        <div class="fields-header-top">
                            <h3 id="selectedObjectLabel"></h3>
                            <div class="fields-header-actions">
                                <button-icon
                                    id="refreshFieldsBtn"
                                    data-icon="refresh"
                                    title="Refresh fields"
                                ></button-icon>
                                <button class="close-btn" id="closeFieldsBtn" title="Close">
                                    <sf-icon name="close"></sf-icon>
                                </button>
                            </div>
                        </div>
                        <div class="selected-object-name" id="selectedObjectName"></div>
                        <input
                            type="text"
                            id="fieldFilter"
                            class="input filter-input"
                            placeholder="Filter fields..."
                        />
                    </div>
                    <div class="field-header">
                        <div>Field Label</div>
                        <div>API Name</div>
                        <div>Type</div>
                    </div>
                    <div id="fieldsList" class="fields-list">
                        <div class="loading-container">Loading fields...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Formula Editor Modal -->
<div class="modal-overlay" id="formulaModal">
    <div class="modal">
        <div class="modal-header">
            <div>
                <h3>Edit Formula</h3>
                <div class="modal-field-info" id="modalFieldInfo"></div>
            </div>
            <button class="close-btn" id="modalCloseBtn" title="Close">
                <sf-icon name="close"></sf-icon>
            </button>
        </div>
        <div class="modal-body">
            <div class="modal-editor-container">
                <monaco-editor
                    id="formulaEditor"
                    class="monaco-container"
                    language="apex"
                ></monaco-editor>
            </div>
        </div>
        <div class="modal-footer">
            <div class="modal-status" id="modalStatus"></div>
            <button id="modalCancelBtn" class="button-neutral">Cancel</button>
            <button id="modalSaveBtn" class="button-brand">Save</button>
        </div>
    </div>
</div>
