<header class="standalone-header">
    <div class="nav-brand"><img src="../../icon.png" alt="">sftools</div>
    <span class="tool-name">Schema Browser</span>
</header>

<main class="content-area">
    <div class="card schema-card">
        <div class="card-header">
            <div class="card-header-icon" style="background-color: #0070d2;">S</div>
            <h2>Schema Browser</h2>
        </div>
        <div class="card-body schema-card-body">
            <div class="schema-container">
                <div class="objects-panel">
                    <div class="objects-header">
                        <input type="text" id="objectFilter" class="input filter-input" placeholder="Filter objects...">
                        <div id="objectCount" class="object-count"></div>
                    </div>
                    <div id="objectsList" class="objects-list">
                        <div class="loading-container">Loading objects...</div>
                    </div>
                </div>
                <div class="fields-panel" id="fieldsPanel" style="display: none;">
                    <div class="fields-header">
                        <div class="fields-header-top">
                            <h3 id="selectedObjectLabel"></h3>
                            <button id="closeFieldsBtn" class="button-icon-only" aria-label="Close">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                    <path d="M4.646 4.646a.5.5 0 01.708 0L8 7.293l2.646-2.647a.5.5 0 01.708.708L8.707 8l2.647 2.646a.5.5 0 01-.708.708L8 8.707l-2.646 2.647a.5.5 0 01-.708-.708L7.293 8 4.646 5.354a.5.5 0 010-.708z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="selected-object-name" id="selectedObjectName"></div>
                        <input type="text" id="fieldFilter" class="input filter-input" placeholder="Filter fields...">
                    </div>
                    <div class="field-header">
                        <div>Field Label</div>
                        <div>API Name</div>
                        <div>Type</div>
                    </div>
                    <div id="fieldsList" class="fields-list">
                        <div class="loading-container">Loading fields...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Formula Editor Modal -->
<div class="modal-overlay" id="formulaModal">
    <div class="modal">
        <div class="modal-header">
            <div>
                <h3>Edit Formula</h3>
                <div class="modal-field-info" id="modalFieldInfo"></div>
            </div>
            <button id="modalCloseBtn" class="button-icon-only" aria-label="Close">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M4.646 4.646a.5.5 0 01.708 0L8 7.293l2.646-2.647a.5.5 0 01.708.708L8.707 8l2.647 2.646a.5.5 0 01-.708.708L8 8.707l-2.646 2.647a.5.5 0 01-.708-.708L7.293 8 4.646 5.354a.5.5 0 010-.708z"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <div class="modal-editor-container">
                <monaco-editor id="formulaEditor" class="monaco-container" language="apex"></monaco-editor>
            </div>
        </div>
        <div class="modal-footer">
            <div class="modal-status" id="modalStatus"></div>
            <button id="modalCancelBtn" class="button-neutral">Cancel</button>
            <button id="modalSaveBtn" class="button-brand">Save</button>
        </div>
    </div>
</div>
